parameters:
    level: max
    paths:
        - src
        - tests
    stubFiles:
        - tests/stubs/K8s.stub
    ignoreErrors:
        - identifier: missingType.iterableValue
        -
            message: '#Parameter \#1 \$response of method KubernetesRuntime\\AbstractAPI::parseResponse\(\) expects Psr\\Http\\Message\\ResponseInterface, mixed given\.#'
            path: src/BaseApi/*
        -
            message: '#Method .+ should return .+ but returns mixed\.#'
            path: src/BaseApi/*
        # AppsApiClientFunctionalTest: PHPStan is overly strict with custom CRD types in generic trait
        # The trait correctly handles generic cases, but PHPStan proves certain branches impossible with our specific types
        -
            message: '#.+#'
            path: tests/ApiClient/BaseNamespaceApiClientTestCase.php
includes:
    - vendor/phpstan/phpstan-phpunit/extension.neon
